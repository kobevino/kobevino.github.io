<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="./_next/static/css/dbb50fd420b33798.css" data-precedence="next"/><link rel="stylesheet" href="./_next/static/css/1b43b2959fdf142d.css" data-precedence="next"/><link rel="stylesheet" href="./_next/static/css/4c62bdaf9ccfa79d.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="./_next/static/chunks/webpack-ebbce2ffb9d844b7.js"/><script src="./_next/static/chunks/94c12b52-02bab8f31903f9d8.js" async=""></script><script src="./_next/static/chunks/842-cb809d85f4d450a1.js" async=""></script><script src="./_next/static/chunks/main-app-82a45780c036d1fa.js" async=""></script><script src="./_next/static/chunks/2-ad9c083589494568.js" async=""></script><script src="./_next/static/chunks/979-9f1e3dabf5b88387.js" async=""></script><script src="./_next/static/chunks/34-00f8cbeb68282840.js" async=""></script><script src="./_next/static/chunks/app/layout-75c372431f7ce25f.js" async=""></script><script src="./_next/static/chunks/app/%5Bslug%5D/page-cdea868390d0022c.js" async=""></script><title>Kobe&#x27;s Blog</title><meta name="description" content="Generated by Jaesung Lee"/><link rel="icon" href="/favicon.ico"/><script data-mantine-script="true">try {
  var _colorScheme = window.localStorage.getItem("mantine-color-scheme-value");
  var colorScheme = _colorScheme === "light" || _colorScheme === "dark" || _colorScheme === "auto" ? _colorScheme : "auto";
  var computedColorScheme = colorScheme !== "auto" ? colorScheme : window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
  document.documentElement.setAttribute("data-mantine-color-scheme", computedColorScheme);
} catch (e) {}
</script><script src="./_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body><style data-mantine-styles="true">:root{--mantine-cursor-type: pointer;}</style><style data-mantine-styles="classes">@media (max-width: 35.99375em) {.mantine-visible-from-xs {display: none !important;}}@media (min-width: 36em) {.mantine-hidden-from-xs {display: none !important;}}@media (max-width: 47.99375em) {.mantine-visible-from-sm {display: none !important;}}@media (min-width: 48em) {.mantine-hidden-from-sm {display: none !important;}}@media (max-width: 61.99375em) {.mantine-visible-from-md {display: none !important;}}@media (min-width: 62em) {.mantine-hidden-from-md {display: none !important;}}@media (max-width: 74.99375em) {.mantine-visible-from-lg {display: none !important;}}@media (min-width: 75em) {.mantine-hidden-from-lg {display: none !important;}}@media (max-width: 87.99375em) {.mantine-visible-from-xl {display: none !important;}}@media (min-width: 88em) {.mantine-hidden-from-xl {display: none !important;}}</style><header class="header_header__Y50HU"><div style="--container-size:var(--container-size-md)" class="header_inner__a4TQD m_7485cace mantine-Container-root" data-size="md"><div style="--group-gap:calc(0.5rem * var(--mantine-scale));--group-align:center;--group-justify:flex-start;--group-wrap:wrap" class="header_logo__qUoMG m_4081bf90 mantine-Group-root"><div style="gap:var(--mantine-spacing-xs);align-items:center" class="m_8bffd616 mantine-Flex-root __m__-R6mnja"><img alt="logo" loading="lazy" width="30" height="30" decoding="async" data-nimg="1" style="color:transparent" src="/logo.png"/><p style="--text-fz:var(--mantine-font-size-sm);--text-lh:var(--mantine-line-height-sm);color:var(--mantine-color-gray-text);font-weight:700;text-transform:uppercase" class="mantine-focus-auto header_typing__A7z3E m_b6d8b162 mantine-Text-root" data-size="sm">kobevino</p></div></div><div style="--group-gap:calc(0.3125rem * var(--mantine-scale));--group-align:center;--group-justify:flex-start;--group-wrap:wrap" class="m_4081bf90 mantine-Group-root"><div style="--group-gap:calc(0.3125rem * var(--mantine-scale));--group-align:center;--group-justify:flex-start;--group-wrap:wrap;margin-top:calc(0.3125rem * var(--mantine-scale))" class="m_4081bf90 mantine-Group-root"><a class="mantine-focus-auto m_849cf0da m_b6d8b162 mantine-Text-root mantine-Anchor-root" data-underline="hover" href="https://x.com/_kobevino" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tabler-icon tabler-icon-brand-x "><path d="M4 4l11.733 16h4.267l-11.733 -16z"></path><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"></path></svg></a><a class="mantine-focus-auto m_849cf0da m_b6d8b162 mantine-Text-root mantine-Anchor-root" data-underline="hover" href="https://www.facebook.com/kobe8vino24" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tabler-icon tabler-icon-brand-meta "><path d="M12 10.174c1.766 -2.784 3.315 -4.174 4.648 -4.174c2 0 3.263 2.213 4 5.217c.704 2.869 .5 6.783 -2 6.783c-1.114 0 -2.648 -1.565 -4.148 -3.652a27.627 27.627 0 0 1 -2.5 -4.174z"></path><path d="M12 10.174c-1.766 -2.784 -3.315 -4.174 -4.648 -4.174c-2 0 -3.263 2.213 -4 5.217c-.704 2.869 -.5 6.783 2 6.783c1.114 0 2.648 -1.565 4.148 -3.652c1 -1.391 1.833 -2.783 2.5 -4.174z"></path></svg></a><a class="mantine-focus-auto m_849cf0da m_b6d8b162 mantine-Text-root mantine-Anchor-root" data-underline="hover" href="https://www.instagram.com/_kobevino/" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tabler-icon tabler-icon-brand-instagram "><path d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z"></path><path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path><path d="M16.5 7.5l0 .01"></path></svg></a><a class="mantine-focus-auto m_849cf0da m_b6d8b162 mantine-Text-root mantine-Anchor-root" data-underline="hover" href="https://www.linkedin.com/in/kobevino/" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tabler-icon tabler-icon-brand-linkedin "><path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"></path><path d="M8 11l0 5"></path><path d="M8 8l0 .01"></path><path d="M12 16l0 -5"></path><path d="M16 16v-3a2 2 0 0 0 -4 0"></path></svg></a><a class="mantine-focus-auto m_849cf0da m_b6d8b162 mantine-Text-root mantine-Anchor-root" data-underline="hover" href="https://github.com/kobevino" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tabler-icon tabler-icon-brand-github "><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path></svg></a></div><div style="--switch-height:var(--switch-height-md);--switch-width:var(--switch-width-md);--switch-thumb-size:var(--switch-thumb-size-md);--switch-label-font-size:var(--switch-label-font-size-md);--switch-track-label-padding:var(--switch-track-label-padding-md);--switch-color:var(--mantine-color-dark-4);--label-fz:var(--mantine-font-size-md);--label-lh:var(--label-lh-md);margin-left:calc(0.625rem * var(--mantine-scale))" class="m_5f93f3bb mantine-Switch-root m_5f75b09e mantine-Switch-root" data-size="md" data-label-position="right"><label class="m_5f6e695e mantine-Switch-body" for="mantine-Raqnja"><input id="mantine-Raqnja" type="checkbox" role="switch" class="m_926b4011 mantine-Switch-input"/><div class="m_9307d992 mantine-Switch-track" data-label-position="right" aria-hidden="true"><span class="m_93039a1d mantine-Switch-thumb" data-reduce-motion="true"></span><span class="m_8277e082 mantine-Switch-trackLabel"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ffd43b" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="tabler-icon tabler-icon-sun " style="width:calc(1rem * var(--mantine-scale));height:calc(1rem * var(--mantine-scale))"><path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path><path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path></svg></span></div><div class="m_d3ea56bb mantine-Switch-labelWrapper"></div></label></div></div></div></header><div style="margin-top:calc(6.25rem * var(--mantine-scale))" class="m_7485cace mantine-Container-root"><div style="--stack-gap:var(--mantine-spacing-md);--stack-align:stretch;--stack-justify:flex-start" class="m_6d731127 mantine-Stack-root"><h2 style="--title-fw:var(--mantine-h1-font-weight);--title-lh:var(--mantine-h1-line-height);--title-fz:var(--mantine-h1-font-size);font-weight:900" class="m_8a5d1357 mantine-Title-root" data-size="h1" data-order="2">Kubernetes Cluster Setup using Kubespray</h2><p style="--text-fz:var(--mantine-font-size-sm);--text-lh:var(--mantine-line-height-sm);color:var(--mantine-color-dimmed)" class="mantine-focus-auto m_b6d8b162 mantine-Text-root" data-size="sm">Thu, Oct 9,  2025</p></div><div style="--group-gap:var(--mantine-spacing-md);--group-align:center;--group-justify:flex-start;--group-wrap:wrap" class="markdown m_4081bf90 mantine-Group-root"><div class="markdown"><p>If you're a frontend engineer, you should learn <strong>Kubernetes</strong>. As your applications grow, they need to be separated and deployed independently. Eventually, this leads to adopting a micro-frontend architecture, which fits perfectly with <strong>Kubernetes</strong>.</p>
<p>I’ve been trying to create a Kubernetes cluster using Vagrant and VirtualBox on my local machine for the past few days. However, it was quite difficult to run the cluster locally due to limited RAM.</p>
<p>So I've decided to create the cluster using EC2 instances, with <code>Kubespray</code> controller running locally.</p>
<p>First, let's create a master node and worker nodes.</p>
<h2>Create a Master node and Worker nodes.</h2>
<p><img src="./kubernetes-cluster-setup-using-kubespray/ec2-instance.png" alt="ec2-instance"></p>
<p>You should create the master node using an EC2 instance of <code>t3.medium</code> or higher. For the worker nodes, it's recommnded to use at least <code>t3.small</code> instances.</p>
<blockquote>
<p>Master Node - CPU: 2, RAM: 4 | Wokerer Node - CPU: 2, RAM: 2</p>
</blockquote>
<p><img src="./kubernetes-cluster-setup-using-kubespray/inbound-rule.png" alt="inbound-rule"></p>
<p>You need to open ports <code>6443</code> and <code>10250</code> in your EC2 security group.</p>
<ul>
<li><code>6443</code>is used by the Kubernetes API server on the master node.</li>
<li><code>10250</code> is used by Kubelet on each node, allowing the master to communicate with the workers.</li>
</ul>
<blockquote>
<p>These ports must be open so that the Kubespray playbook can successfully set up the cluster.</p>
</blockquote>
<h2>Create a KubeSpray controller on my computer.</h2>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="bash" data-theme="dracula"><code data-language="bash" data-theme="dracula" style="display: grid;"><span data-line=""><span style="color:#50FA7B">$</span><span style="color:#F1FA8C"> mkdir</span><span style="color:#F1FA8C"> kubespray</span></span>
<span data-line=""><span style="color:#50FA7B">$</span><span style="color:#F1FA8C"> cd</span><span style="color:#F1FA8C"> kubespray</span></span>
<span data-line=""><span style="color:#50FA7B">$</span><span style="color:#F1FA8C"> git</span><span style="color:#F1FA8C"> clone</span><span style="color:#F1FA8C"> https://github.com/kubernetes-sigs/kubespray</span><span style="color:#F1FA8C"> .</span></span>
<span data-line=""><span style="color:#6272A4"># Ensure you have installed Docker then</span></span>
<span data-line=""><span style="color:#50FA7B">$</span><span style="color:#F1FA8C"> docker</span><span style="color:#F1FA8C"> run</span><span style="color:#BD93F9"> --rm</span><span style="color:#BD93F9"> -it</span><span style="color:#BD93F9"> --name</span><span style="color:#F1FA8C"> kubespray</span><span style="color:#BD93F9"> --mount</span><span style="color:#F1FA8C"> type=bind,source=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">$(</span><span style="color:#8BE9FD">pwd</span><span style="color:#F1FA8C">)</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">/inventory/sample,dst=/inventory</span><span style="color:#FF79C6"> \</span></span>
<span data-line=""><span style="color:#BD93F9">  --mount</span><span style="color:#F1FA8C"> type=bind,source=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">${</span><span style="color:#BD93F9">HOME</span><span style="color:#F1FA8C">}</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">/.ssh/id_rsa,dst=/root/.ssh/id_rsa</span><span style="color:#FF79C6"> \</span></span>
<span data-line=""><span style="color:#F1FA8C">  quay.io/kubespray/kubespray:v2.28.0</span><span style="color:#F1FA8C"> bash</span></span><button type="button" title="Copy code" aria-label="Copy code" data="$ mkdir kubespray
$ cd kubespray
$ git clone https://github.com/kubernetes-sigs/kubespray .
# Ensure you have installed Docker then
$ docker run --rm -it --name kubespray --mount type=bind,source=&#x22;$(pwd)&#x22;/inventory/sample,dst=/inventory \
  --mount type=bind,source=&#x22;${HOME}&#x22;/.ssh/id_rsa,dst=/root/.ssh/id_rsa \
  quay.io/kubespray/kubespray:v2.28.0 bash" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>
<blockquote>
<p>You should create an ssh key on your local machine before running the Kubespray conainer.</p>
</blockquote>
<h2>Run the Kubespray playbooks</h2>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="bash" data-theme="dracula"><code data-language="bash" data-theme="dracula" style="display: grid;"><span data-line=""><span style="color:#6272A4"># Inside the container</span></span>
<span data-line=""><span style="color:#50FA7B">root@bbaa7247daad:/kubespray#</span><span style="color:#F1FA8C"> vi</span><span style="color:#F1FA8C"> /inventory/inventory.ini</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# Inside the container
root@bbaa7247daad:/kubespray# vi /inventory/inventory.ini" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="ini" data-theme="dracula"><code data-language="ini" data-theme="dracula" style="display: grid;"><span data-line=""><span style="color:#F8F8F2">master </span><span style="color:#FF79C6">ansible_host=</span><span style="color:#F8F8F2">&#x3C;Pulbic IP> </span><span style="color:#FF79C6">ip=</span><span style="color:#F8F8F2">&#x3C;Private IP> </span><span style="color:#FF79C6">etcd_member_name=</span><span style="color:#F8F8F2">etcd1 </span><span style="color:#FF79C6">ansible_user=</span><span style="color:#F8F8F2">ubuntu </span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">[etcd:children]</span></span>
<span data-line=""><span style="color:#F8F8F2">kube_control_plane</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">[kube_node]</span></span>
<span data-line=""><span style="color:#F8F8F2">worker1 </span><span style="color:#FF79C6">ansible_host=</span><span style="color:#F8F8F2">&#x3C;Pulbic IP> </span><span style="color:#FF79C6">ip=</span><span style="color:#F8F8F2">&#x3C;Private IP> </span><span style="color:#FF79C6">ansible_user=</span><span style="color:#F8F8F2">ubuntu </span></span>
<span data-line=""><span style="color:#F8F8F2">worker2 </span><span style="color:#FF79C6">ansible_host=</span><span style="color:#F8F8F2">&#x3C;Pulbic IP> </span><span style="color:#FF79C6">ip=</span><span style="color:#F8F8F2">&#x3C;Private IP> </span><span style="color:#FF79C6">ansible_user=</span><span style="color:#F8F8F2">ubuntu </span></span><button type="button" title="Copy code" aria-label="Copy code" data="master ansible_host=<Pulbic IP> ip=<Private IP> etcd_member_name=etcd1 ansible_user=ubuntu 

[etcd:children]
kube_control_plane

[kube_node]
worker1 ansible_host=<Pulbic IP> ip=<Private IP> ansible_user=ubuntu 
worker2 ansible_host=<Pulbic IP> ip=<Private IP> ansible_user=ubuntu " class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>
<p>You should modify the <code>inventory.ini</code> file as shown above.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="bash" data-theme="dracula"><code data-language="bash" data-theme="dracula" style="display: grid;"><span data-line=""><span style="color:#6272A4"># Copy the local public key</span></span>
<span data-line=""><span style="color:#50FA7B">$</span><span style="color:#F1FA8C"> cat</span><span style="color:#F1FA8C"> ~/.ssh/id_rsa.pub</span></span>
<span data-line=""><span style="color:#50FA7B">$</span><span style="color:#F1FA8C"> ssh</span><span style="color:#BD93F9"> -i</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">your-key-pair.pem</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C"> ubuntu@</span><span style="color:#FF79C6">&#x3C;</span><span style="color:#F1FA8C">master-public-i</span><span style="color:#F8F8F2">p</span><span style="color:#FF79C6">></span></span>
<span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">Paste your public key</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#F1FA8C"> ~/.ssh/authorized_keys</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# Copy the local public key
$ cat ~/.ssh/id_rsa.pub
$ ssh -i &#x22;your-key-pair.pem&#x22; ubuntu@<master-public-ip>
ubuntu@<master-public-ip>:~$ echo &#x22;Paste your public key&#x22; >> ~/.ssh/authorized_keys" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>
<p>You should add <strong>public key</strong> to each instance to authorize ssh access. Please do the same on the worker nodes.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="bash" data-theme="dracula"><code data-language="bash" data-theme="dracula" style="display: grid;"><span data-line=""><span style="color:#6272A4"># Inside the container</span></span>
<span data-line=""><span style="color:#50FA7B">root@bbaa7247daad:/kubespray#</span><span style="color:#F1FA8C"> ansible-playbook</span><span style="color:#BD93F9"> -i</span><span style="color:#F1FA8C"> /inventory/inventory.ini</span><span style="color:#BD93F9"> --private-key</span><span style="color:#F1FA8C"> /root/.ssh/id_rsa</span><span style="color:#BD93F9"> --become</span><span style="color:#F1FA8C"> cluster.yml</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# Inside the container
root@bbaa7247daad:/kubespray# ansible-playbook -i /inventory/inventory.ini --private-key /root/.ssh/id_rsa --become cluster.yml" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>
<p><img src="./kubernetes-cluster-setup-using-kubespray/ansible-playbook.png" alt="ansible-playbook"></p>
<p>If the playbook finishes without any errors, as shown above, your Kubernetes cluster has been successfully set up.</p>
<h3>Check Master Node</h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="bash" data-theme="dracula"><code data-language="bash" data-theme="dracula" style="display: grid;"><span data-line=""><span style="color:#50FA7B">$</span><span style="color:#F1FA8C"> ssh</span><span style="color:#BD93F9"> -i</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">your-key-pair.pem</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C"> ubuntu@</span><span style="color:#FF79C6">&#x3C;</span><span style="color:#F1FA8C">master-public-i</span><span style="color:#F8F8F2">p</span><span style="color:#FF79C6">></span></span>
<span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">sudo</span><span style="color:#F1FA8C"> kubectl</span><span style="color:#F1FA8C"> version</span></span>
<span data-line=""><span style="color:#50FA7B">Client</span><span style="color:#F1FA8C"> Version:</span><span style="color:#F1FA8C"> v1.32.5</span></span>
<span data-line=""><span style="color:#50FA7B">Kustomize</span><span style="color:#F1FA8C"> Version:</span><span style="color:#F1FA8C"> v5.5.0</span></span>
<span data-line=""><span style="color:#50FA7B">Server</span><span style="color:#F1FA8C"> Version:</span><span style="color:#F1FA8C"> v1.32.5</span></span>
<span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">sudo</span><span style="color:#F1FA8C"> kubectl</span><span style="color:#F1FA8C"> get</span><span style="color:#F1FA8C"> nodes</span></span>
<span data-line=""><span style="color:#50FA7B">NAME</span><span style="color:#F1FA8C">      STATUS</span><span style="color:#F1FA8C">   ROLES</span><span style="color:#F1FA8C">           AGE</span><span style="color:#F1FA8C">   VERSION</span></span>
<span data-line=""><span style="color:#50FA7B">master</span><span style="color:#F1FA8C">    Ready</span><span style="color:#F1FA8C">    control-plane</span><span style="color:#F1FA8C">   12m</span><span style="color:#F1FA8C">   v1.32.5</span></span>
<span data-line=""><span style="color:#50FA7B">worker1</span><span style="color:#F1FA8C">   Ready</span><span style="color:#FF79C6">    &#x3C;</span><span style="color:#F1FA8C">non</span><span style="color:#F8F8F2">e</span><span style="color:#FF79C6">></span><span style="color:#F1FA8C">          11m</span><span style="color:#F1FA8C">   v1.32.5</span></span>
<span data-line=""><span style="color:#50FA7B">worker2</span><span style="color:#F1FA8C">   Ready</span><span style="color:#FF79C6">    &#x3C;</span><span style="color:#F1FA8C">non</span><span style="color:#F8F8F2">e</span><span style="color:#FF79C6">></span><span style="color:#F1FA8C">          11m</span><span style="color:#F1FA8C">   v1.32.5</span></span><button type="button" title="Copy code" aria-label="Copy code" data="$ ssh -i &#x22;your-key-pair.pem&#x22; ubuntu@<master-public-ip>
ubuntu@<master-public-ip>:~$ sudo kubectl version
Client Version: v1.32.5
Kustomize Version: v5.5.0
Server Version: v1.32.5
ubuntu@<master-public-ip>:~$ sudo kubectl get nodes
NAME      STATUS   ROLES           AGE   VERSION
master    Ready    control-plane   12m   v1.32.5
worker1   Ready    <none>          11m   v1.32.5
worker2   Ready    <none>          11m   v1.32.5" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>
<p>Boom! Success.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="bash" data-theme="dracula"><code data-language="bash" data-theme="dracula" style="display: grid;"><span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">mkdir</span><span style="color:#BD93F9"> -p</span><span style="color:#BD93F9"> $HOME</span><span style="color:#F1FA8C">/.kube</span></span>
<span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">sudo</span><span style="color:#F1FA8C"> cp</span><span style="color:#BD93F9"> -i</span><span style="color:#F1FA8C"> /etc/kubernetes/admin.conf</span><span style="color:#BD93F9"> $HOME</span><span style="color:#F1FA8C">/.kube/config</span></span>
<span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">sudo</span><span style="color:#F1FA8C"> chown</span><span style="color:#F8F8F2"> $(</span><span style="color:#50FA7B">id</span><span style="color:#BD93F9"> -u</span><span style="color:#F8F8F2">)</span><span style="color:#F1FA8C">:</span><span style="color:#F8F8F2">$(</span><span style="color:#50FA7B">id</span><span style="color:#BD93F9"> -g</span><span style="color:#F8F8F2">) </span><span style="color:#BD93F9">$HOME</span><span style="color:#F1FA8C">/.kube/config</span></span><button type="button" title="Copy code" aria-label="Copy code" data="ubuntu@<master-public-ip>:~$ mkdir -p $HOME/.kube
ubuntu@<master-public-ip>:~$ sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
ubuntu@<master-public-ip>:~$ sudo chown $(id -u):$(id -g) $HOME/.kube/config" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>
<p>If you want to use <code>kubectl</code> without <strong>sudo</strong>, follow the steps above.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="bash" data-theme="dracula"><code data-language="bash" data-theme="dracula" style="display: grid;"><span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">kubectl</span><span style="color:#F1FA8C"> get</span><span style="color:#F1FA8C"> pod</span><span style="color:#BD93F9"> -n</span><span style="color:#F1FA8C"> kube-system</span></span>
<span data-line=""><span style="color:#50FA7B">NAME</span><span style="color:#F1FA8C">                                       READY</span><span style="color:#F1FA8C">   STATUS</span><span style="color:#F1FA8C">    RESTARTS</span><span style="color:#F1FA8C">   AGE</span></span>
<span data-line=""><span style="color:#50FA7B">calico-kube-controllers-588d6df6c9-g5wx8</span><span style="color:#F1FA8C">   1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          13m</span></span>
<span data-line=""><span style="color:#50FA7B">calico-node-2vrhd</span><span style="color:#F1FA8C">                          1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          14m</span></span>
<span data-line=""><span style="color:#50FA7B">calico-node-l5bsl</span><span style="color:#F1FA8C">                          1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          14m</span></span>
<span data-line=""><span style="color:#50FA7B">calico-node-pw95t</span><span style="color:#F1FA8C">                          1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          14m</span></span>
<span data-line=""><span style="color:#50FA7B">coredns-5c54f84c97-8dr66</span><span style="color:#F1FA8C">                   1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          13m</span></span>
<span data-line=""><span style="color:#50FA7B">coredns-5c54f84c97-spr5f</span><span style="color:#F1FA8C">                   1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          13m</span></span>
<span data-line=""><span style="color:#50FA7B">dns-autoscaler-56cb45595c-prs5h</span><span style="color:#F1FA8C">            1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          13m</span></span>
<span data-line=""><span style="color:#50FA7B">kube-apiserver-master</span><span style="color:#F1FA8C">                      1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          15m</span></span>
<span data-line=""><span style="color:#50FA7B">kube-controller-manager-master</span><span style="color:#F1FA8C">             1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   1</span><span style="color:#F1FA8C">          15m</span></span>
<span data-line=""><span style="color:#50FA7B">kube-proxy-2cpzg</span><span style="color:#F1FA8C">                           1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          14m</span></span>
<span data-line=""><span style="color:#50FA7B">kube-proxy-bzpqx</span><span style="color:#F1FA8C">                           1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          14m</span></span>
<span data-line=""><span style="color:#50FA7B">kube-proxy-h5zl7</span><span style="color:#F1FA8C">                           1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          14m</span></span>
<span data-line=""><span style="color:#50FA7B">kube-scheduler-master</span><span style="color:#F1FA8C">                      1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   1</span><span style="color:#F1FA8C">          15m</span></span>
<span data-line=""><span style="color:#50FA7B">nginx-proxy-worker1</span><span style="color:#F1FA8C">                        1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          14m</span></span>
<span data-line=""><span style="color:#50FA7B">nginx-proxy-worker2</span><span style="color:#F1FA8C">                        1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          14m</span></span>
<span data-line=""><span style="color:#50FA7B">nodelocaldns-g8kqw</span><span style="color:#F1FA8C">                         1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          13m</span></span>
<span data-line=""><span style="color:#50FA7B">nodelocaldns-gwlfx</span><span style="color:#F1FA8C">                         1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          13m</span></span>
<span data-line=""><span style="color:#50FA7B">nodelocaldns-j4jdm</span><span style="color:#F1FA8C">                         1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          13m</span></span><button type="button" title="Copy code" aria-label="Copy code" data="ubuntu@<master-public-ip>:~$ kubectl get pod -n kube-system
NAME                                       READY   STATUS    RESTARTS   AGE
calico-kube-controllers-588d6df6c9-g5wx8   1/1     Running   0          13m
calico-node-2vrhd                          1/1     Running   0          14m
calico-node-l5bsl                          1/1     Running   0          14m
calico-node-pw95t                          1/1     Running   0          14m
coredns-5c54f84c97-8dr66                   1/1     Running   0          13m
coredns-5c54f84c97-spr5f                   1/1     Running   0          13m
dns-autoscaler-56cb45595c-prs5h            1/1     Running   0          13m
kube-apiserver-master                      1/1     Running   0          15m
kube-controller-manager-master             1/1     Running   1          15m
kube-proxy-2cpzg                           1/1     Running   0          14m
kube-proxy-bzpqx                           1/1     Running   0          14m
kube-proxy-h5zl7                           1/1     Running   0          14m
kube-scheduler-master                      1/1     Running   1          15m
nginx-proxy-worker1                        1/1     Running   0          14m
nginx-proxy-worker2                        1/1     Running   0          14m
nodelocaldns-g8kqw                         1/1     Running   0          13m
nodelocaldns-gwlfx                         1/1     Running   0          13m
nodelocaldns-j4jdm                         1/1     Running   0          13m" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="bash" data-theme="dracula"><code data-language="bash" data-theme="dracula" style="display: grid;"><span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">kubectl</span><span style="color:#F1FA8C"> run</span><span style="color:#F1FA8C"> apache</span><span style="color:#BD93F9"> --image</span><span style="color:#F1FA8C"> httpd</span></span>
<span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">kubectl</span><span style="color:#F1FA8C"> run</span><span style="color:#F1FA8C"> nginx</span><span style="color:#BD93F9"> --image</span><span style="color:#F1FA8C"> nginx</span></span>
<span data-line=""><span style="color:#50FA7B">ubuntu@</span><span style="color:#F8F8F2">&#x3C;master-public-ip>:~$ </span><span style="color:#F1FA8C">kubectl</span><span style="color:#F1FA8C"> get</span><span style="color:#F1FA8C"> po</span><span style="color:#BD93F9"> -o</span><span style="color:#F1FA8C"> wide</span></span>
<span data-line=""><span style="color:#50FA7B">NAME</span><span style="color:#F1FA8C">     READY</span><span style="color:#F1FA8C">   STATUS</span><span style="color:#F1FA8C">    RESTARTS</span><span style="color:#F1FA8C">   AGE</span><span style="color:#F1FA8C">    IP</span><span style="color:#F1FA8C">               NODE</span><span style="color:#F1FA8C">      NOMINATED</span><span style="color:#F1FA8C"> NODE</span><span style="color:#F1FA8C">   READINESS</span><span style="color:#F1FA8C"> GATES</span></span>
<span data-line=""><span style="color:#50FA7B">apache</span><span style="color:#F1FA8C">   1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          111s</span><span style="color:#BD93F9">   10.233.125.2</span><span style="color:#F1FA8C">     worker2</span><span style="color:#FF79C6">   &#x3C;</span><span style="color:#F1FA8C">non</span><span style="color:#F8F8F2">e</span><span style="color:#FF79C6">></span><span style="color:#FF79C6">           &#x3C;</span><span style="color:#F1FA8C">non</span><span style="color:#F8F8F2">e</span><span style="color:#FF79C6">></span></span>
<span data-line=""><span style="color:#50FA7B">nginx</span><span style="color:#F1FA8C">    1/1</span><span style="color:#F1FA8C">     Running</span><span style="color:#BD93F9">   0</span><span style="color:#F1FA8C">          103s</span><span style="color:#BD93F9">   10.233.105.131</span><span style="color:#F1FA8C">   worker1</span><span style="color:#FF79C6">   &#x3C;</span><span style="color:#F1FA8C">non</span><span style="color:#F8F8F2">e</span><span style="color:#FF79C6">></span><span style="color:#FF79C6">           &#x3C;</span><span style="color:#F1FA8C">non</span><span style="color:#F8F8F2">e</span><span style="color:#FF79C6">></span></span><button type="button" title="Copy code" aria-label="Copy code" data="ubuntu@<master-public-ip>:~$ kubectl run apache --image httpd
ubuntu@<master-public-ip>:~$ kubectl run nginx --image nginx
ubuntu@<master-public-ip>:~$ kubectl get po -o wide
NAME     READY   STATUS    RESTARTS   AGE    IP               NODE      NOMINATED NODE   READINESS GATES
apache   1/1     Running   0          111s   10.233.125.2     worker2   <none>           <none>
nginx    1/1     Running   0          103s   10.233.105.131   worker1   <none>           <none>" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>
<h2>Wrap Up</h2>
<p>Creating the cluster was challenging, but I learned a lot about how Kubernetes works and how its components interact. Now, let's practice <strong>k8s</strong>.</p></div></div><div></div></div><script src="./_next/static/chunks/webpack-ebbce2ffb9d844b7.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"./_next/static/css/dbb50fd420b33798.css\",\"style\"]\n2:HL[\"./_next/static/css/1b43b2959fdf142d.css\",\"style\"]\n3:HL[\"./_next/static/css/4c62bdaf9ccfa79d.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[9148,[],\"\"]\n7:I[6731,[],\"\"]\n9:I[2923,[],\"\"]\na:I[5403,[\"2\",\"static/chunks/2-ad9c083589494568.js\",\"979\",\"static/chunks/979-9f1e3dabf5b88387.js\",\"34\",\"static/chunks/34-00f8cbeb68282840.js\",\"185\",\"static/chunks/app/layout-75c372431f7ce25f.js\"],\"ColorSchemeScript\"]\nb:I[9420,[\"2\",\"static/chunks/2-ad9c083589494568.js\",\"979\",\"static/chunks/979-9f1e3dabf5b88387.js\",\"34\",\"static/chunks/34-00f8cbeb68282840.js\",\"185\",\"static/chunks/app/layout-75c372431f7ce25f.js\"],\"MantineProvider\"]\nc:I[7513,[\"2\",\"static/chunks/2-ad9c083589494568.js\",\"979\",\"static/chunks/979-9f1e3dabf5b88387.js\",\"34\",\"static/chunks/34-00f8cbeb68282840.js\",\"185\",\"static/chunks/app/layout-75c372431f7ce25f.js\"],\"Header\"]\nd:I[863,[\"2\",\"static/chunks/2-ad9c083589494568.js\",\"979\",\"static/chunks/979-9f1e3dabf5b88387.js\",\"34\",\"static/chunks/34-00f8cbeb68282840.js\",\"185\",\"static/chunks/app/layout-75c372431f7ce25f.js\"],\"Container\"]\nf:I[7792,[\"2\",\"static/chunks/2-ad9c083589494568.js\",\"42\",\"static/chunks/app/%5Bslug%5D/page-cdea868390d0022c.js\"],\"Title\"]\n10:I[8002,[\"2\",\"static/chunks/2-ad9c083589494568.js\",\"42\",\"static/chunks/app/%5Bslug%5D/page-cdea868390d0022c.js\"],\"Text\"]\n12:I[1304,[],\"\"]\n8:[\"slug\",\"kubernetes-cluster-setup-using-kubespray\",\"d\"]\ne:T53f,M62.6 142c-2.133 0-3.2-1.067-3.2-3.2V118h-56c-2 0-3-1-3-3V92.8c0-1.333.4-2.733 1.2-4.2L58.2 4c.8-1.333 2.067-2 3.8-2h28c2 0 3 1 3 3v85.4h11.2c.933 0 1.733.333 2.4 1 .667.533 1 1.267 1 2.2v21.2c0 .933-.333 1.733-1 2.4-.667.533-1.467.8-2.4.8H93v20.8c0 2.133-1.067 3.2-3.2 3.2H62.6zM33 90.4h26.4V51.2L33 90.4zM181.67 144.6c-7.333 0-14.333-1.333-21-4-6.666-2.667-12.866-6.733-18.6-12.2-5.733-5.467-10.266-13-13.6-22.6-3.333-9.6-5-20.667-5-33.2 0-12.533 1.667-23.6 5-33.2 3.334-9.6 7.867-17.133 13.6-22.6 5.734-5.467 11.934-9.533 18.6-12.2 6.667-2.8 13.667-4.2 21-4.2 7.467 0 14.534 1.4 21.2 4.2 6.667 2.667 12.8 6.733 18.4 12.2 5.734 5.467 10.267 13 13.6 22.6 3.334 9.6 5 20.667 5 33.2 0 12.533-1.666 23.6-5 33.2-3.333 9.6-7.866 17.133-13.6 22.6-5.6 5.467-11.733 9.533-18.4 12.2-6.666 2.667-13.733 4-21.2 4zm0-31c9.067 0 15.6-3.73"])</script><script>self.__next_f.push([1,"3 19.6-11.2 4.134-7.6 6.2-17.533 6.2-29.8s-2.066-22.2-6.2-29.8c-4.133-7.6-10.666-11.4-19.6-11.4-8.933 0-15.466 3.8-19.6 11.4-4 7.6-6 17.533-6 29.8s2 22.2 6 29.8c4.134 7.467 10.667 11.2 19.6 11.2zM316.116 142c-2.134 0-3.2-1.067-3.2-3.2V118h-56c-2 0-3-1-3-3V92.8c0-1.333.4-2.733 1.2-4.2l56.6-84.6c.8-1.333 2.066-2 3.8-2h28c2 0 3 1 3 3v85.4h11.2c.933 0 1.733.333 2.4 1 .666.533 1 1.267 1 2.2v21.2c0 .933-.334 1.733-1 2.4-.667.533-1.467.8-2.4.8h-11.2v20.8c0 2.133-1.067 3.2-3.2 3.2h-27.2zm-29.6-51.6h26.4V51.2l-26.4 39.2z13:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"./_next/static/css/dbb50fd420b33798.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"./_next/static/css/1b43b2959fdf142d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"nMK5mHeNvamKEfI0TBuVB\",\"assetPrefix\":\".\",\"initialCanonicalUrl\":\"/kubernetes-cluster-setup-using-kubespray\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"kubernetes-cluster-setup-using-kubespray\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"kubernetes-cluster-setup-using-kubespray\\\"}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"kubernetes-cluster-setup-using-kubespray\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",\"$L6\"],null],null]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"./_next/static/css/4c62bdaf9ccfa79d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"$La\",null,{\"defaultColorScheme\":\"auto\"}]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"$Lb\",null,{\"theme\":{\"cursorType\":\"pointer\"},\"defaultColorScheme\":\"auto\",\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"$Ld\",null,{\"mt\":100,\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"$Ld\",null,{\"className\":\"not-found_root___8tHH\",\"children\":[\"$\",\"div\",null,{\"className\":\"not-found_inner__jk2We\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 362 145\",\"className\":\"not-found_image__klXiS\",\"children\":[[\"$\",\"title\",null,{\"children\":\"404\"}],[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"$e\"}]]}],[\"$\",\"div\",null,{\"className\":\"not-found_content__cklTM\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"not-found_title__bOfUG\",\"children\":\"Nothing to see here\"}],[\"$\",\"$L10\",null,{\"c\":\"dimmed\",\"size\":\"lg\",\"ta\":\"center\",\"className\":\"not-found_description__7RPJl\",\"children\":\"Page you are trying to open does not exist. You may have mistyped the address, or the page has been moved to another URL. If you think this is an error contact support.\"}]]}]]}]}],\"notFoundStyles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"./_next/static/css/9b82fbf9d3dab81a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],\"styles\":null}]}]]}]}]]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L11\"],\"globalErrorComponent\":\"$12\",\"missingSlots\":\"$W13\"}]]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Kobe's Blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Generated by Jaesung Lee\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,"14:I[5287,[\"2\",\"static/chunks/2-ad9c083589494568.js\",\"42\",\"static/chunks/app/%5Bslug%5D/page-cdea868390d0022c.js\"],\"Stack\"]\n15:I[9231,[\"2\",\"static/chunks/2-ad9c083589494568.js\",\"42\",\"static/chunks/app/%5Bslug%5D/page-cdea868390d0022c.js\"],\"Group\"]\n17:I[3179,[\"2\",\"static/chunks/2-ad9c083589494568.js\",\"42\",\"static/chunks/app/%5Bslug%5D/page-cdea868390d0022c.js\"],\"Comments\"]\n16:Ta7d6,"])</script><script>self.__next_f.push([1,"\u003cp\u003eIf you're a frontend engineer, you should learn \u003cstrong\u003eKubernetes\u003c/strong\u003e. As your applications grow, they need to be separated and deployed independently. Eventually, this leads to adopting a micro-frontend architecture, which fits perfectly with \u003cstrong\u003eKubernetes\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003eI’ve been trying to create a Kubernetes cluster using Vagrant and VirtualBox on my local machine for the past few days. However, it was quite difficult to run the cluster locally due to limited RAM.\u003c/p\u003e\n\u003cp\u003eSo I've decided to create the cluster using EC2 instances, with \u003ccode\u003eKubespray\u003c/code\u003e controller running locally.\u003c/p\u003e\n\u003cp\u003eFirst, let's create a master node and worker nodes.\u003c/p\u003e\n\u003ch2\u003eCreate a Master node and Worker nodes.\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"./kubernetes-cluster-setup-using-kubespray/ec2-instance.png\" alt=\"ec2-instance\"\u003e\u003c/p\u003e\n\u003cp\u003eYou should create the master node using an EC2 instance of \u003ccode\u003et3.medium\u003c/code\u003e or higher. For the worker nodes, it's recommnded to use at least \u003ccode\u003et3.small\u003c/code\u003e instances.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eMaster Node - CPU: 2, RAM: 4 | Wokerer Node - CPU: 2, RAM: 2\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cimg src=\"./kubernetes-cluster-setup-using-kubespray/inbound-rule.png\" alt=\"inbound-rule\"\u003e\u003c/p\u003e\n\u003cp\u003eYou need to open ports \u003ccode\u003e6443\u003c/code\u003e and \u003ccode\u003e10250\u003c/code\u003e in your EC2 security group.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e6443\u003c/code\u003eis used by the Kubernetes API server on the master node.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e10250\u003c/code\u003e is used by Kubelet on each node, allowing the master to communicate with the workers.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThese ports must be open so that the Kubespray playbook can successfully set up the cluster.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003eCreate a KubeSpray controller on my computer.\u003c/h2\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282A36;color:#F8F8F2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"dracula\"\u003e\u003ccode data-language=\"bash\" data-theme=\"dracula\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e mkdir\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e kubespray\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e cd\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e kubespray\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e git\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e clone\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e https://github.com/kubernetes-sigs/kubespray\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e .\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#6272A4\"\u003e# Ensure you have installed Docker then\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e docker\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e run\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e --rm\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -it\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e --name\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e kubespray\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e --mount\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e type=bind,source=\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e$(\u003c/span\u003e\u003cspan style=\"color:#8BE9FD\"\u003epwd\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e/inventory/sample,dst=/inventory\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#BD93F9\"\u003e  --mount\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e type=bind,source=\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003eHOME\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e/.ssh/id_rsa,dst=/root/.ssh/id_rsa\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#F1FA8C\"\u003e  quay.io/kubespray/kubespray:v2.28.0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e bash\u003c/span\u003e\u003c/span\u003e\u003cbutton type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"$ mkdir kubespray\n$ cd kubespray\n$ git clone https://github.com/kubernetes-sigs/kubespray .\n# Ensure you have installed Docker then\n$ docker run --rm -it --name kubespray --mount type=bind,source=\u0026#x22;$(pwd)\u0026#x22;/inventory/sample,dst=/inventory \\\n  --mount type=bind,source=\u0026#x22;${HOME}\u0026#x22;/.ssh/id_rsa,dst=/root/.ssh/id_rsa \\\n  quay.io/kubespray/kubespray:v2.28.0 bash\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);window.setTimeout(() =\u003e this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;), 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cblockquote\u003e\n\u003cp\u003eYou should create an ssh key on your local machine before running the Kubespray conainer.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003eRun the Kubespray playbooks\u003c/h2\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282A36;color:#F8F8F2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"dracula\"\u003e\u003ccode data-language=\"bash\" data-theme=\"dracula\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#6272A4\"\u003e# Inside the container\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eroot@bbaa7247daad:/kubespray#\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e vi\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e /inventory/inventory.ini\u003c/span\u003e\u003c/span\u003e\u003cbutton type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"# Inside the container\nroot@bbaa7247daad:/kubespray# vi /inventory/inventory.ini\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);window.setTimeout(() =\u003e this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;), 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282A36;color:#F8F8F2\" tabindex=\"0\" data-language=\"ini\" data-theme=\"dracula\"\u003e\u003ccode data-language=\"ini\" data-theme=\"dracula\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#F8F8F2\"\u003emaster \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eansible_host=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;Pulbic IP\u003e \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eip=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;Private IP\u003e \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eetcd_member_name=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003eetcd1 \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eansible_user=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003eubuntu \u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e \u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#F8F8F2\"\u003e[etcd:children]\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#F8F8F2\"\u003ekube_control_plane\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e \u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#F8F8F2\"\u003e[kube_node]\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#F8F8F2\"\u003eworker1 \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eansible_host=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;Pulbic IP\u003e \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eip=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;Private IP\u003e \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eansible_user=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003eubuntu \u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#F8F8F2\"\u003eworker2 \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eansible_host=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;Pulbic IP\u003e \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eip=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;Private IP\u003e \u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003eansible_user=\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003eubuntu \u003c/span\u003e\u003c/span\u003e\u003cbutton type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"master ansible_host=\u003cPulbic IP\u003e ip=\u003cPrivate IP\u003e etcd_member_name=etcd1 ansible_user=ubuntu \n\n[etcd:children]\nkube_control_plane\n\n[kube_node]\nworker1 ansible_host=\u003cPulbic IP\u003e ip=\u003cPrivate IP\u003e ansible_user=ubuntu \nworker2 ansible_host=\u003cPulbic IP\u003e ip=\u003cPrivate IP\u003e ansible_user=ubuntu \" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);window.setTimeout(() =\u003e this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;), 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eYou should modify the \u003ccode\u003einventory.ini\u003c/code\u003e file as shown above.\u003c/p\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282A36;color:#F8F8F2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"dracula\"\u003e\u003ccode data-language=\"bash\" data-theme=\"dracula\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#6272A4\"\u003e# Copy the local public key\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e cat\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e ~/.ssh/id_rsa.pub\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e ssh\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -i\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003eyour-key-pair.pem\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e ubuntu@\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003emaster-public-i\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003ep\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003eecho\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003ePaste your public key\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e \u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e ~/.ssh/authorized_keys\u003c/span\u003e\u003c/span\u003e\u003cbutton type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"# Copy the local public key\n$ cat ~/.ssh/id_rsa.pub\n$ ssh -i \u0026#x22;your-key-pair.pem\u0026#x22; ubuntu@\u003cmaster-public-ip\u003e\nubuntu@\u003cmaster-public-ip\u003e:~$ echo \u0026#x22;Paste your public key\u0026#x22; \u003e\u003e ~/.ssh/authorized_keys\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);window.setTimeout(() =\u003e this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;), 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eYou should add \u003cstrong\u003epublic key\u003c/strong\u003e to each instance to authorize ssh access. Please do the same on the worker nodes.\u003c/p\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282A36;color:#F8F8F2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"dracula\"\u003e\u003ccode data-language=\"bash\" data-theme=\"dracula\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#6272A4\"\u003e# Inside the container\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eroot@bbaa7247daad:/kubespray#\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e ansible-playbook\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -i\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e /inventory/inventory.ini\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e --private-key\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e /root/.ssh/id_rsa\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e --become\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e cluster.yml\u003c/span\u003e\u003c/span\u003e\u003cbutton type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"# Inside the container\nroot@bbaa7247daad:/kubespray# ansible-playbook -i /inventory/inventory.ini --private-key /root/.ssh/id_rsa --become cluster.yml\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);window.setTimeout(() =\u003e this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;), 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003e\u003cimg src=\"./kubernetes-cluster-setup-using-kubespray/ansible-playbook.png\" alt=\"ansible-playbook\"\u003e\u003c/p\u003e\n\u003cp\u003eIf the playbook finishes without any errors, as shown above, your Kubernetes cluster has been successfully set up.\u003c/p\u003e\n\u003ch3\u003eCheck Master Node\u003c/h3\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282A36;color:#F8F8F2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"dracula\"\u003e\u003ccode data-language=\"bash\" data-theme=\"dracula\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e ssh\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -i\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003eyour-key-pair.pem\u003c/span\u003e\u003cspan style=\"color:#E9F284\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e ubuntu@\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003emaster-public-i\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003ep\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003esudo\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e kubectl\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e version\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eClient\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e Version:\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e v1.32.5\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eKustomize\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e Version:\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e v5.5.0\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eServer\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e Version:\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e v1.32.5\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003esudo\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e kubectl\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e get\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e nodes\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eNAME\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e      STATUS\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   ROLES\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e           AGE\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   VERSION\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003emaster\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e    Ready\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e    control-plane\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   12m\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   v1.32.5\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eworker1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   Ready\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003enon\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003ee\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          11m\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   v1.32.5\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eworker2\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   Ready\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003enon\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003ee\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          11m\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   v1.32.5\u003c/span\u003e\u003c/span\u003e\u003cbutton type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"$ ssh -i \u0026#x22;your-key-pair.pem\u0026#x22; ubuntu@\u003cmaster-public-ip\u003e\nubuntu@\u003cmaster-public-ip\u003e:~$ sudo kubectl version\nClient Version: v1.32.5\nKustomize Version: v5.5.0\nServer Version: v1.32.5\nubuntu@\u003cmaster-public-ip\u003e:~$ sudo kubectl get nodes\nNAME      STATUS   ROLES           AGE   VERSION\nmaster    Ready    control-plane   12m   v1.32.5\nworker1   Ready    \u003cnone\u003e          11m   v1.32.5\nworker2   Ready    \u003cnone\u003e          11m   v1.32.5\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);window.setTimeout(() =\u003e this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;), 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eBoom! Success.\u003c/p\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282A36;color:#F8F8F2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"dracula\"\u003e\u003ccode data-language=\"bash\" data-theme=\"dracula\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003emkdir\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -p\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e $HOME\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e/.kube\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003esudo\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e cp\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -i\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e /etc/kubernetes/admin.conf\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e $HOME\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e/.kube/config\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003esudo\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e chown\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e $(\u003c/span\u003e\u003cspan style=\"color:#50FA7B\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -u\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e$(\u003c/span\u003e\u003cspan style=\"color:#50FA7B\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -g\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e$HOME\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e/.kube/config\u003c/span\u003e\u003c/span\u003e\u003cbutton type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"ubuntu@\u003cmaster-public-ip\u003e:~$ mkdir -p $HOME/.kube\nubuntu@\u003cmaster-public-ip\u003e:~$ sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nubuntu@\u003cmaster-public-ip\u003e:~$ sudo chown $(id -u):$(id -g) $HOME/.kube/config\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);window.setTimeout(() =\u003e this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;), 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eIf you want to use \u003ccode\u003ekubectl\u003c/code\u003e without \u003cstrong\u003esudo\u003c/strong\u003e, follow the steps above.\u003c/p\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282A36;color:#F8F8F2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"dracula\"\u003e\u003ccode data-language=\"bash\" data-theme=\"dracula\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003ekubectl\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e get\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e pod\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -n\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e kube-system\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eNAME\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                                       READY\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   STATUS\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e    RESTARTS\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   AGE\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ecalico-kube-controllers-588d6df6c9-g5wx8\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          13m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ecalico-node-2vrhd\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                          1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          14m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ecalico-node-l5bsl\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                          1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          14m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ecalico-node-pw95t\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                          1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          14m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ecoredns-5c54f84c97-8dr66\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                   1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          13m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ecoredns-5c54f84c97-spr5f\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                   1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          13m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003edns-autoscaler-56cb45595c-prs5h\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e            1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          13m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ekube-apiserver-master\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                      1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          15m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ekube-controller-manager-master\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e             1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          15m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ekube-proxy-2cpzg\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                           1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          14m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ekube-proxy-bzpqx\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                           1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          14m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ekube-proxy-h5zl7\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                           1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          14m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003ekube-scheduler-master\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                      1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          15m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003enginx-proxy-worker1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                        1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          14m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003enginx-proxy-worker2\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                        1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          14m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003enodelocaldns-g8kqw\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                         1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          13m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003enodelocaldns-gwlfx\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                         1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          13m\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003enodelocaldns-j4jdm\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e                         1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          13m\u003c/span\u003e\u003c/span\u003e\u003cbutton type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"ubuntu@\u003cmaster-public-ip\u003e:~$ kubectl get pod -n kube-system\nNAME                                       READY   STATUS    RESTARTS   AGE\ncalico-kube-controllers-588d6df6c9-g5wx8   1/1     Running   0          13m\ncalico-node-2vrhd                          1/1     Running   0          14m\ncalico-node-l5bsl                          1/1     Running   0          14m\ncalico-node-pw95t                          1/1     Running   0          14m\ncoredns-5c54f84c97-8dr66                   1/1     Running   0          13m\ncoredns-5c54f84c97-spr5f                   1/1     Running   0          13m\ndns-autoscaler-56cb45595c-prs5h            1/1     Running   0          13m\nkube-apiserver-master                      1/1     Running   0          15m\nkube-controller-manager-master             1/1     Running   1          15m\nkube-proxy-2cpzg                           1/1     Running   0          14m\nkube-proxy-bzpqx                           1/1     Running   0          14m\nkube-proxy-h5zl7                           1/1     Running   0          14m\nkube-scheduler-master                      1/1     Running   1          15m\nnginx-proxy-worker1                        1/1     Running   0          14m\nnginx-proxy-worker2                        1/1     Running   0          14m\nnodelocaldns-g8kqw                         1/1     Running   0          13m\nnodelocaldns-gwlfx                         1/1     Running   0          13m\nnodelocaldns-j4jdm                         1/1     Running   0          13m\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);window.setTimeout(() =\u003e this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;), 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282A36;color:#F8F8F2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"dracula\"\u003e\u003ccode data-language=\"bash\" data-theme=\"dracula\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003ekubectl\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e run\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e apache\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e --image\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e httpd\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003ekubectl\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e run\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e nginx\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e --image\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e nginx\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eubuntu@\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003e\u0026#x3C;master-public-ip\u003e:~$ \u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003ekubectl\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e get\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e po\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e -o\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e wide\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eNAME\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     READY\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   STATUS\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e    RESTARTS\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   AGE\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e    IP\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e               NODE\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e      NOMINATED\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e NODE\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   READINESS\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e GATES\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003eapache\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          111s\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   10.233.125.2\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     worker2\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e   \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003enon\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003ee\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e           \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003enon\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003ee\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#50FA7B\"\u003enginx\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e    1/1\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e     Running\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   0\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e          103s\u003c/span\u003e\u003cspan style=\"color:#BD93F9\"\u003e   10.233.105.131\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003e   worker1\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e   \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003enon\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003ee\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e           \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#F1FA8C\"\u003enon\u003c/span\u003e\u003cspan style=\"color:#F8F8F2\"\u003ee\u003c/span\u003e\u003cspan style=\"color:#FF79C6\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cbutton type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"ubuntu@\u003cmaster-public-ip\u003e:~$ kubectl run apache --image httpd\nubuntu@\u003cmaster-public-ip\u003e:~$ kubectl run nginx --image nginx\nubuntu@\u003cmaster-public-ip\u003e:~$ kubectl get po -o wide\nNAME     READY   STATUS    RESTARTS   AGE    IP               NODE      NOMINATED NODE   READINESS GATES\napache   1/1     Running   0          111s   10.233.125.2     worker2   \u003cnone\u003e           \u003cnone\u003e\nnginx    1/1     Running   0          103s   10.233.105.131   worker1   \u003cnone\u003e           \u003cnone\u003e\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);window.setTimeout(() =\u003e this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;), 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ch2\u003eWrap Up\u003c/h2\u003e\n\u003cp\u003eCreating the cluster was challenging, but I learned a lot about how Kubernetes works and how its components interact. Now, let's practice \u003cstrong\u003ek8s\u003c/strong\u003e.\u003c/p\u003e"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"$L14\",null,{\"children\":[[\"$\",\"$Lf\",null,{\"order\":2,\"fw\":900,\"size\":\"h1\",\"children\":\"Kubernetes Cluster Setup using Kubespray\"}],[\"$\",\"$L10\",null,{\"size\":\"sm\",\"c\":\"dimmed\",\"children\":\"Thu, Oct 9,  2025\"}]]}],[\"$\",\"$L15\",null,{\"className\":\"markdown\",\"children\":[\"$\",\"div\",null,{\"className\":\"markdown\",\"dangerouslySetInnerHTML\":{\"__html\":\"$16\"}}]}],[\"$\",\"$L17\",null,{}]]\n"])</script></body></html>